{"remainingRequest":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/babel-loader/lib/index.js!/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/eslint-loader/index.js??ref--13-0!/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/store/index.js","dependencies":[{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/store/index.js","mtime":1630037705498},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCBFdmVudFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9FdmVudFNlcnZpY2UuanMnOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXI6ICdTYW11ZWwgTGF1JywKICAgIGV2ZW50czogW10sCiAgICAvLyBuZXcgZXZlbnRzIGFycmF5CiAgICBldmVudDoge30sCiAgICBmbGFzaE1lc3NhZ2U6ICcnCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIEFERF9FVkVOVDogZnVuY3Rpb24gQUREX0VWRU5UKHN0YXRlLCBldmVudCkgewogICAgICAvLyBvdXIgZmlyc3QgbXV0YXRpb24KICAgICAgc3RhdGUuZXZlbnRzLnB1c2goZXZlbnQpOwogICAgfSwKICAgIFNFVF9FVkVOVFM6IGZ1bmN0aW9uIFNFVF9FVkVOVFMoc3RhdGUsIGV2ZW50cykgewogICAgICBzdGF0ZS5ldmVudHMgPSBldmVudHM7CiAgICB9LAogICAgU0VUX0VWRU5UOiBmdW5jdGlvbiBTRVRfRVZFTlQoc3RhdGUsIGV2ZW50KSB7CiAgICAgIHN0YXRlLmV2ZW50ID0gZXZlbnQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBjcmVhdGVFdmVudDogZnVuY3Rpb24gY3JlYXRlRXZlbnQoX3JlZiwgZXZlbnQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gRXZlbnRTZXJ2aWNlLnBvc3RFdmVudChldmVudCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tbWl0KCdBRERfRVZFTlQnLCBldmVudCk7IC8vIGFkZCBldmVudCB0byBWdWV4IHN0YXRlCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHRocm93IGVycm9yOwogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaEV2ZW50czogZnVuY3Rpb24gZmV0Y2hFdmVudHMoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIEV2ZW50U2VydmljZS5nZXRFdmVudHMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnU0VUX0VWRU5UUycsIHJlc3BvbnNlLmRhdGEpOyAvLyBzZXQgZXZlbnRzIGZyb20gZGIKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0pOwogICAgfSwKICAgIGZldGNoRXZlbnQ6IGZ1bmN0aW9uIGZldGNoRXZlbnQoX3JlZjMsIGlkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICB2YXIgZXhpc3RpbmdFdmVudCA9IHN0YXRlLmV2ZW50cy5maW5kKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHJldHVybiBldmVudC5pZCA9PT0gaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGV4aXN0aW5nRXZlbnQpIHsKICAgICAgICBjb21taXQoJ1NFVF9FVkVOVCcsIGV4aXN0aW5nRXZlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBFdmVudFNlcnZpY2UuZ2V0RXZlbnQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb21taXQoJ1NFVF9FVkVOVCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/store/index.js"],"names":["createStore","EventService","state","user","events","event","flashMessage","mutations","ADD_EVENT","push","SET_EVENTS","SET_EVENT","actions","createEvent","commit","postEvent","then","catch","error","fetchEvents","getEvents","response","data","fetchEvent","id","existingEvent","find","getEvent","modules"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,eAAeD,WAAW,CAAC;AACzBE,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,YADD;AAELC,IAAAA,MAAM,EAAE,EAFH;AAEO;AACZC,IAAAA,KAAK,EAAE,EAHF;AAILC,IAAAA,YAAY,EAAE;AAJT,GADkB;AAOzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCN,KADD,EACQG,KADR,EACe;AACtB;AACAH,MAAAA,KAAK,CAACE,MAAN,CAAaK,IAAb,CAAkBJ,KAAlB;AACD,KAJQ;AAKTK,IAAAA,UALS,sBAKER,KALF,EAKSE,MALT,EAKiB;AACxBF,MAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACD,KAPQ;AAQTO,IAAAA,SARS,qBAQCT,KARD,EAQQG,KARR,EAQe;AACtBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD;AAVQ,GAPc;AAmBzBO,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,6BACiBR,KADjB,EACwB;AAAA,UAAjBS,MAAiB,QAAjBA,MAAiB;AAC7B,aAAOb,YAAY,CAACc,SAAb,CAAuBV,KAAvB,EACJW,IADI,CACC,YAAM;AACVF,QAAAA,MAAM,CAAC,WAAD,EAAcT,KAAd,CAAN,CADU,CAEV;AACD,OAJI,EAKJY,KALI,CAKE,UAAAC,KAAK,EAAI;AACd,cAAMA,KAAN;AACD,OAPI,CAAP;AAQD,KAVM;AAWPC,IAAAA,WAXO,8BAWiB;AAAA,UAAVL,MAAU,SAAVA,MAAU;AACtB,aAAOb,YAAY,CAACmB,SAAb,GACJJ,IADI,CACC,UAAAK,QAAQ,EAAI;AAChBP,QAAAA,MAAM,CAAC,YAAD,EAAeO,QAAQ,CAACC,IAAxB,CAAN,CADgB,CAEhB;AACD,OAJI,EAKJL,KALI,CAKE,UAAAC,KAAK,EAAI;AACd,cAAMA,KAAN;AACD,OAPI,CAAP;AAQD,KApBM;AAqBPK,IAAAA,UArBO,6BAqBuBC,EArBvB,EAqB2B;AAAA,UAArBV,MAAqB,SAArBA,MAAqB;AAAA,UAAbZ,KAAa,SAAbA,KAAa;AAChC,UAAMuB,aAAa,GAAGvB,KAAK,CAACE,MAAN,CAAasB,IAAb,CAAkB,UAAArB,KAAK;AAAA,eAAIA,KAAK,CAACmB,EAAN,KAAaA,EAAjB;AAAA,OAAvB,CAAtB;;AACA,UAAIC,aAAJ,EAAmB;AACjBX,QAAAA,MAAM,CAAC,WAAD,EAAcW,aAAd,CAAN;AACD,OAFD,MAEO;AACL,eAAOxB,YAAY,CAAC0B,QAAb,CAAsBH,EAAtB,EACJR,IADI,CACC,UAAAK,QAAQ,EAAI;AAChBP,UAAAA,MAAM,CAAC,WAAD,EAAcO,QAAQ,CAACC,IAAvB,CAAN;AACD,SAHI,EAIJL,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,gBAAMA,KAAN;AACD,SANI,CAAP;AAOD;AACF;AAlCM,GAnBgB;AAuDzBU,EAAAA,OAAO,EAAE;AAvDgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\nimport EventService from '@/services/EventService.js'\n\nexport default createStore({\n  state: {\n    user: 'Samuel Lau',\n    events: [], // new events array\n    event: {},\n    flashMessage: ''\n  },\n  mutations: {\n    ADD_EVENT(state, event) {\n      // our first mutation\n      state.events.push(event)\n    },\n    SET_EVENTS(state, events) {\n      state.events = events\n    },\n    SET_EVENT(state, event) {\n      state.event = event\n    }\n  },\n  actions: {\n    createEvent({ commit }, event) {\n      return EventService.postEvent(event)\n        .then(() => {\n          commit('ADD_EVENT', event)\n          // add event to Vuex state\n        })\n        .catch(error => {\n          throw error\n        })\n    },\n    fetchEvents({ commit }) {\n      return EventService.getEvents()\n        .then(response => {\n          commit('SET_EVENTS', response.data)\n          // set events from db\n        })\n        .catch(error => {\n          throw error\n        })\n    },\n    fetchEvent({ commit, state }, id) {\n      const existingEvent = state.events.find(event => event.id === id)\n      if (existingEvent) {\n        commit('SET_EVENT', existingEvent)\n      } else {\n        return EventService.getEvent(id)\n          .then(response => {\n            commit('SET_EVENT', response.data)\n          })\n          .catch(error => {\n            throw error\n          })\n      }\n    }\n  },\n  modules: {}\n})\n"]}]}