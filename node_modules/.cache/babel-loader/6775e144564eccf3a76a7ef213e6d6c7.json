{"remainingRequest":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/babel-loader/lib/index.js!/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/views/EventCreate.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/views/EventCreate.vue","mtime":1630038355435},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NhbXVlbGxhdS9EZXNrdG9wL1Z1ZXhfRnVuZGFtZW50YWxzLUwzLXN0YXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogWydzdXN0YWluYWJpbGl0eScsICduYXR1cmUnLCAnYW5pbWFsIHdlbGZhcmUnLCAnaG91c2luZycsICdlZHVjYXRpb24nLCAnZm9vZCcsICdjb21tdW5pdHknXSwKICAgICAgZXZlbnQ6IHsKICAgICAgICBpZDogJycsCiAgICAgICAgY2F0ZWdvcnk6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbG9jYXRpb246ICcnLAogICAgICAgIGRhdGU6ICcnLAogICAgICAgIHRpbWU6ICcnLAogICAgICAgIG9yZ2FuaXplcjogJycKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBldmVudCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5ldmVudCksIHt9LCB7CiAgICAgICAgaWQ6IHV1aWR2NCgpLAogICAgICAgIG9yZ2FuaXplcjogdGhpcy4kc3RvcmUuc3RhdGUudXNlcgogICAgICB9KTsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjcmVhdGVFdmVudCcsIGV2ZW50KSAvLyBpZiBzdWNjZXNzLCByb3V0ZSB0byBFdmVudERldGFpbHMKICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5mbGFzaE1lc3NhZ2UgPSAnWW91IGFyZSBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCBmb3IgJyArIGV2ZW50LnRpdGxlOyAvLyBBZnRlciAzIHNlY29uZHMgcmVtb3ZlIGZsYXNoTWVzc2FnZQoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5mbGFzaE1lc3NhZ2UgPSAnJzsKICAgICAgICB9LCAzMDAwKTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdFdmVudERldGFpbHMnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiBldmVudC5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KSAvLyBpZiBmYWlsLCByb3V0ZSB0byBFcnJvckRpc3BsYXkKICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnRXJyb3JEaXNwbGF5JywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/samuellau/Desktop/Vuex_Fundamentals-L3-start/src/views/EventCreate.vue"],"names":[],"mappings":";AA8CA,SAAS,EAAC,IAAK,MAAf,QAA6B,MAA7B;AAEA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,UAAU,EAAE,CACV,gBADU,EAEV,QAFU,EAGV,gBAHU,EAIV,SAJU,EAKV,WALU,EAMV,MANU,EAOV,WAPU,CADP;AAUL,MAAA,KAAK,EAAE;AACL,QAAA,EAAE,EAAE,EADC;AAEL,QAAA,QAAQ,EAAE,EAFL;AAGL,QAAA,KAAK,EAAE,EAHF;AAIL,QAAA,WAAW,EAAE,EAJR;AAKL,QAAA,QAAQ,EAAE,EALL;AAML,QAAA,IAAI,EAAE,EAND;AAOL,QAAA,IAAI,EAAE,EAPD;AAQL,QAAA,SAAS,EAAE;AARN;AAVF,KAAP;AAqBD,GAvBY;AAwBb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACI;AAAA;;AACT,UAAM,KAAI,mCACL,KAAK,KADA;AAER,QAAA,EAAE,EAAE,MAAM,EAFF;AAGR,QAAA,SAAS,EAAE,KAAK,MAAL,CAAY,KAAZ,CAAkB;AAHrB,QAAV;;AAKA,WAAK,MAAL,CACG,QADH,CACY,aADZ,EAC2B,KAD3B,EAGE;AAHF,OAIG,IAJH,CAIQ,YAAM;AACV,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,YAAlB,GACE,yCAAyC,KAAK,CAAC,KADjD,CADU,CAIV;;AACA,QAAA,UAAU,CAAC,YAAM;AACf,UAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,YAAlB,GAAiC,EAAjC;AACD,SAFS,EAEP,IAFO,CAAV;;AAIA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAChB,UAAA,IAAI,EAAE,cADU;AAEhB,UAAA,MAAM,EAAE;AAAE,YAAA,EAAE,EAAE,KAAK,CAAC;AAAZ;AAFQ,SAAlB;AAID,OAjBH,EAmBE;AAnBF,OAoBG,KApBH,CAoBS,UAAA,KAAI,EAAK;AACd,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAChB,UAAA,IAAI,EAAE,cADU;AAEhB,UAAA,MAAM,EAAE;AAAE,YAAA,KAAK,EAAE;AAAT;AAFQ,SAAlB;AAID,OAzBH;AA0BF;AAjCO;AAxBI,CAAf","sourcesContent":["<template>\n  <h1>Create an event</h1>\n\n  <div class=\"form-container\">\n    <form @submit.prevent=\"onSubmit\">\n      <label>Select a category: </label>\n      <select v-model=\"event.category\">\n        <option\n          v-for=\"option in categories\"\n          :value=\"option\"\n          :key=\"option\"\n          :selected=\"option === event.category\"\n          >{{ option }}</option\n        >\n      </select>\n\n      <h3>Name & describe your event</h3>\n\n      <label>Title</label>\n      <input v-model=\"event.title\" type=\"text\" placeholder=\"Title\" />\n\n      <label>Description</label>\n      <input\n        v-model=\"event.description\"\n        type=\"text\"\n        placeholder=\"Description\"\n      />\n\n      <h3>Where is your event?</h3>\n\n      <label>Location</label>\n      <input v-model=\"event.location\" type=\"text\" placeholder=\"Location\" />\n\n      <h3>When is your event?</h3>\n      <label>Date</label>\n      <input v-model=\"event.date\" type=\"text\" placeholder=\"Date\" />\n\n      <label>Time</label>\n      <input v-model=\"event.time\" type=\"text\" placeholder=\"Time\" />\n\n      <button type=\"submit\">Submit</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n  data() {\n    return {\n      categories: [\n        'sustainability',\n        'nature',\n        'animal welfare',\n        'housing',\n        'education',\n        'food',\n        'community'\n      ],\n      event: {\n        id: '',\n        category: '',\n        title: '',\n        description: '',\n        location: '',\n        date: '',\n        time: '',\n        organizer: ''\n      }\n    }\n  },\n  methods: {\n    onSubmit() {\n      const event = {\n        ...this.event,\n        id: uuidv4(),\n        organizer: this.$store.state.user\n      }\n      this.$store\n        .dispatch('createEvent', event)\n\n        // if success, route to EventDetails\n        .then(() => {\n          this.$store.state.flashMessage =\n            'You are successfully registered for ' + event.title\n\n          // After 3 seconds remove flashMessage\n          setTimeout(() => {\n            this.$store.state.flashMessage = ''\n          }, 3000)\n          \n          this.$router.push({\n            name: 'EventDetails',\n            params: { id: event.id }\n          })\n        })\n\n        // if fail, route to ErrorDisplay\n        .catch(error => {\n          this.$router.push({\n            name: 'ErrorDisplay',\n            params: { error: error }\n          })\n        })\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}